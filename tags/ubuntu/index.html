<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Ubuntu | Xizi's Blog</title>
<meta name=keywords content><meta name=description content="记录、分享折腾笔记。"><meta name=author content="admin"><link rel=canonical href=https://567899.xyz/tags/ubuntu/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.59199e9871af4d6eb237b6f7c475938d6aa75124042d2734689caacabadc0c9b.css integrity="sha256-WRmemHGvTW6yN7b3xHWTjWqnUSQELSc0aJyqyrrcDJs=" rel="preload stylesheet" as=style><link rel=icon href=https://567899.xyz/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://567899.xyz/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://567899.xyz/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://567899.xyz/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://567899.xyz/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://567899.xyz/tags/ubuntu/index.xml><link rel=alternate hreflang=zh href=https://567899.xyz/tags/ubuntu/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://567899.xyz/tags/ubuntu/"><meta property="og:site_name" content="Xizi's Blog"><meta property="og:title" content="Ubuntu"><meta property="og:description" content="记录、分享折腾笔记。"><meta property="og:locale" content="zh"><meta property="og:type" content="website"><meta property="og:image" content="https://567899.xyz/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://567899.xyz/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Ubuntu"><meta name=twitter:description content="记录、分享折腾笔记。"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://567899.xyz/ accesskey=h title="Xizi's Blog (Alt + H)"><img src=https://567899.xyz/apple-touch-icon.png alt aria-label=logo height=35>Xizi's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://567899.xyz/archives/ title=归档><span>归档</span></a></li><li><a href=https://567899.xyz/tags/ title=标签><span>标签</span></a></li><li><a href=https://567899.xyz/about/ title=关于><span>关于</span></a></li><li><a href=https://567899.xyz/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://567899.xyz/>主页</a>&nbsp;»&nbsp;<a href=https://567899.xyz/tags/>Tags</a></div><h1>Ubuntu
<a href=/tags/ubuntu/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Linux VPS Debian/Ubuntu/CentOS DD系统网络安装/网络重装/纯净安装 一键脚本</h2></header><div class=entry-content><p>背景:
适用于由GRUB引导的CentOS,Ubuntu,Debian系统. 使用官方发行版去掉模板预装的软件. 同时也可以解决内核版本与软件不兼容的问题。 只要有root权限,还您一个纯净的系统。 注意:
全自动安装默认root密码:MoeClub.org 安装完成后请立即更改密码. 能够全自动重装Debian/Ubuntu/CentOS等系统. 同时提供dd安装镜像功能,例如: 全自动无救援dd安装windows系统 全自动安装CentOS时默认提供VNC功能,可使用VNC Viewer查看进度, VNC端口为1或者5901,可自行尝试连接.(成功后VNC功能会消失.) 目前CentOS系统只支持任意版本重装为 CentOS 6.x 及以下版本. 特别注意:OpenVZ构架不适用. 依赖包:
#二进制文件 Debian/Ubuntu RedHat/CentOS iconv [libc-bin] [glibc-common] xz [xz-utils] [xz] awk [gawk] [gawk] sed [sed] [sed] file [file] [file] grep [grep] [grep] openssl [openssl] [openssl] cpio [cpio] [cpio] gzip [gzip] [gzip] cat,cut.. [coreutils] [coreutils] 确保安装了所需软件:
#Debian/Ubuntu: apt-get install -y xz-utils openssl gawk file #RedHat/CentOS: yum install -y xz openssl gawk file 如果出现了错误,请运行:
#Debian/Ubuntu: apt-get update #RedHat/CentOS: yum update 快速使用示例:
bash &lt;(wget --no-check-certificate -qO- 'https://moeclub.org/attachment/LinuxShell/InstallNET.sh') -d 8 -v 64 -a 下载及说明:
wget --no-check-certificate -qO InstallNET.sh 'https://moeclub.org/attachment/LinuxShell/InstallNET.sh' && chmod a+x InstallNET.sh 一些说明
...</p></div><footer class=entry-footer><span title='2019-05-15 01:37:56 +0800 +0800'>五月 15, 2019</span>&nbsp;·&nbsp;admin</footer><a class=entry-link aria-label="post link to Linux VPS Debian/Ubuntu/CentOS DD系统网络安装/网络重装/纯净安装 一键脚本" href=https://567899.xyz/post/linux-vps-dd-debian-ubuntu-centos/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Ubuntu_Debian配置Apache2_PHP配置站点</h2></header><div class=entry-content><p>日常更新
apt-get update -y apt-get upgrade -y 查找程序名
sudo apt-cache search apache | grep 'apache2' 安装Apache2 apt-get install apache2 安装好后开服务
service apache2 start systemctl enable apache2 检查Apache2运行状态
systemctl status apache2 安装Apache的php支持模块
sudo apt-get install libapache2-mod-php 重启Apache2
/etc/init.d/apache2 restart 停止
/etc/init.d/apache2 stop 状态查询
/etc/init.d/apache2 status 在浏览器中输入IP地址，看到以下页面说明apache成功安装
Debian系统上Apache2 Web服务器安装的配置布局如下：
/etc/apache2/ |-- apache2.conf | `-- ports.conf |-- mods-enabled | |-- *.load | `-- *.conf |-- conf-enabled | `-- *.conf |-- sites-enabled | `-- *.conf apache2.conf is the main configuration file. It puts the pieces together by including all remaining configuration files when starting up the web server. ports.conf is always included from the main configuration file. It is used to determine the listening ports for incoming connections, and this file can be customized anytime. Configuration files in the mods-enabled/, conf-enabled/ and sites-enabled/ directories contain particular configuration snippets which manage modules, global configuration fragments, or virtual host configurations, respectively. They are activated by symlinking available configuration files from their respective *-available/ counterparts. These should be managed by using our helpers a2enmod, a2dismod, a2ensite, a2dissite, and a2enconf, a2disconf . See their respective man pages for detailed information. The binary is called apache2. Due to the use of environment variables, in the default configuration, apache2 needs to be started/stopped with /etc/init.d/apache2 or apache2ctl. Calling /usr/bin/apache2 directly will not work with the default configuration. Document Roots
...</p></div><footer class=entry-footer><span title='2019-01-11 01:37:56 +0800 +0800'>一月 11, 2019</span>&nbsp;·&nbsp;admin</footer><a class=entry-link aria-label="post link to Ubuntu_Debian配置Apache2_PHP配置站点" href=https://567899.xyz/post/ubuntu-debian-apache2-php-vhost-sites/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Debian和Ubuntu安装最新的MySQL修改密码卸载清理</h2></header><div class=entry-content><p>Debian 9上安装最新的MySQL
在Debian 9中，MySQL项目的社区分支MariaDB被打包为默认的MySQL变体。虽然MariaDB在大多数情况下运行良好，但如果您需要仅在Oracle的MySQL中找到的功能，则可以从MySQL开发人员维护的存储库中安装和使用软件包。
安装MySQL 首先添加MySQL软件库
MySQL开发人员提供了一个.deb包，用于处理配置和安装官方MySQL软件存储库。一旦设置了存储库，我们就可以使用Ubuntu的标准apt命令来安装该软件。我们将使用wget下载此.deb文件，然后使用该dpkg命令进行安装。
首先，在Web浏览器中加载MySQL下载页面。找到右下角的“ 下载”按钮，然后单击下一页。此页面将提示您登录或注册Oracle Web帐户。我们可以跳过这一点，而是寻找说不用的链接，只需启动我的下载。右键单击该链接并选择“ 复制链接地址”（此选项的措辞可能不同，具体取决于您的浏览器）。
现在我们要下载文件了。在您的服务器上，移动到您可以写入的目录。使用wget下载文件，记住粘贴刚刚复制的地址代替下面突出显示的部分：
cd /tmp wget https://dev.mysql.com/get/mysql-apt-config_0.8.13-1_all.deb 该文件现在应该下载到我们当前的目录中ls列出文件以确保：
您应该看到列出的文件名：
mysql-apt-config_0.8.13-1_all.deb 现在我们准备安装：
dpkg -i mysql-apt-config* dpkg将会被用于安装，删除和检查.deb软件包。该-i标志表示我们要从指定的文件安装。
在安装过程中，您将看到一个配置屏幕，您可以在其中指定您喜欢的MySQL版本，以及为其他MySQL相关工具安装存储库的选项。默认值将添加最新稳定版MySQL的存储库信息，而不是其他任何内容。这就是我们想要的，所以使用向下箭头导航到Ok菜单选项并点击ENTER。
该包现在将完成添加存储库。刷新apt包缓存以使新软件包可用：
dpkg-reconfigure mysql-apt-config apt-get update 添加了存储库并使用我们的软件包缓存进行了新近更新
安装MySQL
我们现在可以使用apt安装最新的MySQL服务器软件包：
apt install mysql-server 状态查询
systemctl status mysql 修改MYSQL的初使密码 mysql -u root -p 用安装时设置的密码登陆
use mysql 开始修改密码
update user set authentication_string=password('yournewpassword') where user='root'; 退出
exit 经过我们修改MYSQL的初使密码后，方可以顺利登陆phpMyAdmin管理
用SET PASSWORD命令
mysql -u root mysql> SET PASSWORD FOR 'root'@'localhost' = PASSWORD('yournewpassword'); 如果报以下错误提示
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SETPASSWORD = PASSWORD('123456')' at line 1
...</p></div><footer class=entry-footer><span title='2018-07-24 01:37:56 +0800 +0800'>七月 24, 2018</span>&nbsp;·&nbsp;admin</footer><a class=entry-link aria-label="post link to Debian和Ubuntu安装最新的MySQL修改密码卸载清理" href=https://567899.xyz/post/debian-ubuntu-install-mysql-uninstall/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Debian和Ubuntu安装php7.2</h2></header><div class=entry-content><p>适用系统：
Ubuntu 16.04 LTS Ubuntu 14.04 LTS Debian 9 stretch Debian 8 jessie 安装 PHP Ond?ej Sury 的 PHP PPA 为 Ubuntu 16.04/14.04 提供了 PHP7.2 版本，同时也有通过个人网站为 Debian 9/8 提供 PHP7.2 版本，因此 Ubuntu 是源于 Debian 所以基本可以通用，同时维护难度较低，软件源安装的 PHP 默认以 Unix Socket 的状态运行在 /run/php/php7.1-fpm.sock，比使用 TCP 以 localhost:9000 的方式性能更好。
添加软件源 Ubuntu安装软件源拓展工具：
apt -y install software-properties-common apt-transport-https lsb-release ca-certificates 添加 Ond?ej Sury 的 PHP PPA 源，需要按一次回车：
add-apt-repository ppa:ondrej/php 更新软件源缓存：
apt update Debian安装软件源拓展工具：
apt -y install software-properties-common apt-transport-https lsb-release ca-certificates 添加 GPG
...</p></div><footer class=entry-footer><span title='2018-07-21 01:37:56 +0800 +0800'>七月 21, 2018</span>&nbsp;·&nbsp;admin</footer><a class=entry-link aria-label="post link to Debian和Ubuntu安装php7.2" href=https://567899.xyz/post/debian-ubuntu-install-php7.2/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Ubuntu18.04关闭iptables防火墙开放所有端口</h2></header><div class=entry-content><p>sudo iptables -P INPUT ACCEPT sudo iptables -P FORWARD ACCEPT sudo iptables -P OUTPUT ACCEPT sudo iptables -F iptables-save > /etc/iptables/rules.v4</p></div><footer class=entry-footer><span title='2018-04-11 01:37:56 +0800 +0800'>四月 11, 2018</span>&nbsp;·&nbsp;admin</footer><a class=entry-link aria-label="post link to Ubuntu18.04关闭iptables防火墙开放所有端口" href=https://567899.xyz/post/ubuntu-iptables/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Debian/Ubuntu系统手动更新内核并启用TCP BBR拥塞控制算法</h2></header><div class=entry-content><p>查看内核版本
uname -r BBR要求内核为kernel4.9以上版本。
如果大于或等于4.9的可以直接开启BBR,开启步骤如下
配置文件
echo "net.core.default_qdisc=fq" >> /etc/sysctl.conf echo "net.ipv4.tcp_congestion_control=bbr" >> /etc/sysctl.conf 加载配置到内核参数中
sysctl -p sysctl net.ipv4.tcp_available_congestion_control 顺利的话下面的命令就能看到bbr模块了
lsmod | grep bbr sysctl net.ipv4.tcp_available_congestion_control 返回值一般为：
net.ipv4.tcp_available_congestion_control = bbr cubic reno sysctl net.ipv4.tcp_congestion_control 返回值一般为：
net.ipv4.tcp_congestion_control = bbr sysctl net.core.default_qdisc 返回值一般为：
net.core.default_qdisc = fq 如果内核版本低于4.9的需要手动升级到4.9或以上才能开启
去这里下载最新版的内核 deb 安装包
如果系统是 64 位，则下载 amd64 的 linux-image 中含有 generic 这个 deb 包； 如果系统是 32 位，则下载 i386 的 linux-image 中含有 generic 这个 deb 包； 安装的命令如下（以最新版的 64 位 4.12.4 举例而已，请替换为下载好的 deb 包）：
...</p></div><footer class=entry-footer><span title='2017-12-21 01:37:56 +0800 +0800'>十二月 21, 2017</span>&nbsp;·&nbsp;admin</footer><a class=entry-link aria-label="post link to Debian/Ubuntu系统手动更新内核并启用TCP BBR拥塞控制算法" href=https://567899.xyz/post/debian-ubuntu-kernel-update-bbr/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>在Debian、Ubuntu系统上为Python 2/3安装和使用Pip的方法</h2></header><div class=entry-content><p>为Python 3安装pip3 以具有sudo权限的非root用户身份执行以下步骤
首先更新包列表：
sudo apt update 使用以下命令为Python 3及其所有依赖项安装pip：
sudo apt install python3-pip 查看pip3、Python版本以验证安装：
pip3 --version python3 -V 版本号可能不同，但它看起来如下所示：
pip 18.1 from /usr/lib/python3/dist-packages/pip (python 3.7) 为Python 2安装pip 以具有sudo权限的非root用户身份执行以下步骤
首先更新包索引：
sudo apt update 为Python 2及其所有依赖项安装pip：
sudo apt install python-pip 通过输入以下命令来验证安装，该命令将打印pip版本：
pip --version 版本号可能会有所不同，但它看起来像这样：
pip 18.1 from /usr/lib/python2.7/dist-packages/pip (python 2.7) 安装软件
pip install 软件包名 卸载包：
pip uninstall package_name 从PyPI搜索包：
pip search "search_query" 列出已安装的包：
pip list 列出过时的包：
pip list --outdated</p></div><footer class=entry-footer><span title='2016-09-19 01:37:56 +0800 +0800'>九月 19, 2016</span>&nbsp;·&nbsp;admin</footer><a class=entry-link aria-label="post link to 在Debian、Ubuntu系统上为Python 2/3安装和使用Pip的方法" href=https://567899.xyz/post/ubuntu-debian-install-python3-pin3-pip/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://567899.xyz/>Xizi's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>